<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>S.T.A.E. | {{ title }}</title>
    <meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />

    <link rel="icon" type="image/x-icon" href="{{ url('static', filename='img/icon.ico') }}" />


    <!-- Fonts and icons -->
    <script src="{{ url('static', filename='js/plugin/webfont/webfont.min.js') }}"></script>
    <script>
        WebFont.load({
            google: { "families": ["Lato:300,400,700,900"] },
            custom: { "families": ["Flaticon", "Font Awesome 5 Solid", "Font Awesome 5 Regular", "Font Awesome 5 Brands", "simple-line-icons"], urls: ['{{ url('static', filename='css/fonts.min.css') }}'] },
            active: function () {
                sessionStorage.fonts = true;
            }
        });










    </script>

    <!-- CSS Files -->


    <link rel="stylesheet" type="text/css" href="{{ url('static', filename='css/bootstrap.min.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url('static', filename='css/atlantis.min.css') }}" />

    <!-- Datatables -->
    <!-- <link rel="stylesheet" type="text/css" href="{{ url('static', filename='datatables/css/dataTables.bootstrap4.css') }}"/> -->
    <!-- <link rel="stylesheet" type="text/css" href="{{ url('static', filename='datatables/css/dataTables.bootstrap4.css') }}"/> -->

    <!-- <script src="{{ url('static', filename='datatables/js/jquery.dataTables.js') }}"></script> -->

</head>

<body data-background-color="dark">

    <div class="wrapper overlay-sidebar">
        <div class="main-header">
            <!-- Logo Header -->
            <div class="logo-header" data-background-color="dark2">

                <a href="index.html" class="logo">
                    <div class="navbar-brand" style="color: white;">S.T.A.E.</div>
                </a>
                <button class="navbar-toggler sidenav-toggler ml-auto" type="button" data-toggle="collapse"
                    data-target="collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon">
                        <i class="icon-menu"></i>
                    </span>
                </button>
                <button class="topbar-toggler more"><i class="icon-options-vertical"></i></button>
                <div class="nav-toggle">
                    <button class="btn btn-toggle sidenav-overlay-toggler"><i class="icon-menu"></i></button>
                </div>
            </div>
            <!-- End Logo Header -->

            <!-- Navbar Header -->
            <nav class="navbar navbar-header navbar-expand-lg" data-background-color="dark">

                <div class="container-fluid">
                    <ul class="navbar-nav topbar-nav ml-md-auto align-items-center">
                        <li class="nav-item toggle-nav-search hidden-caret">
                            <a class="nav-link" data-toggle="collapse" href="#search-nav" role="button"
                                aria-expanded="false" aria-controls="search-nav">
                                <i class="fa fa-search"></i>
                            </a>
                        </li>


                        <li class="nav-item">
                            <a class="nav-link" href="#" aria-expanded="false">
                                <i class="fas icon-logout" data-toggle="tooltip" title="Log out"></i>
                                <!--                            <i class="fas fa-logout"></i>-->
                            </a>
                        </li>


                        <li class="nav-item dropdown hidden-caret">
                            <a class="nav-link" data-toggle="dropdown" href="#" aria-expanded="false">
                                <i class="fas fa-user" data-toggle="tooltip" title="Account"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user animated fadeIn">
                                <div class="scroll-wrapper dropdown-user-scroll scrollbar-outer"
                                    style="position: relative;">
                                    <div class="dropdown-user-scroll scrollbar-outer scroll-content"
                                        style="height: auto; margin-bottom: 0px; margin-right: 0px; max-height: 0px;">
                                        <li>
                                            <div class="user-box">

                                                <div class="u-text">
                                                    <h4>Arnold</h4>
                                                    <p class="text-muted">arnold@stae.com</p>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item" href="#">My Profile</a>
                                            <!--                                        <a class="dropdown-item" href="#">My Balance</a>-->
                                            <!--                                        <a class="dropdown-item" href="#">Inbox</a>-->
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item" href="#">Account Setting</a>
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item" href="#">Logout</a>
                                        </li>
                                    </div>
                                    <div class="scroll-element scroll-x">
                                        <div class="scroll-element_outer">
                                            <div class="scroll-element_size"></div>
                                            <div class="scroll-element_track"></div>
                                            <div class="scroll-bar ui-draggable ui-draggable-handle"></div>
                                        </div>
                                    </div>
                                    <div class="scroll-element scroll-y">
                                        <div class="scroll-element_outer">
                                            <div class="scroll-element_size"></div>
                                            <div class="scroll-element_track"></div>
                                            <div class="scroll-bar ui-draggable ui-draggable-handle"></div>
                                        </div>
                                    </div>
                                </div>
                            </ul>
                        </li>
                    </ul>
                </div>
            </nav>
            <!-- End Navbar -->
        </div>

        <!-- Sidebar -->
        <div class="sidebar" data-background-color="dark2">
            <div class="scroll-wrapper sidebar-wrapper scrollbar scrollbar-inner" style="position: relative;">
                <div class="sidebar-wrapper scrollbar scrollbar-inner scroll-content scroll-scrolly_visible"
                    style="height: auto; margin-bottom: 0px; margin-right: 0px; max-height: 595px;">
                    <div class="sidebar-content">
                        <div class="user">


                            <div class="info">
                                <a data-toggle="collapse" href="#collapseExample" aria-expanded="true">
                                    <span>
                                        Arnold
                                        <span class="user-level">Administrator</span>
                                        <span class="caret"></span>
                                    </span>
                                </a>
                                <div class="clearfix"></div>

                                <div class="collapse in" id="collapseExample">
                                    <ul class="nav">
                                        <li>
                                            <a href="#profile">
                                                <span class="link-collapse">My Profile</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#edit">
                                                <span class="link-collapse">Edit Profile</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#settings">
                                                <span class="link-collapse">Settings</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <ul class="nav nav-primary">
                            <li class="nav-item">
                                <a data-toggle="collapse" href="#dashboard" class="collapsed" aria-expanded="false">
                                    <i class="fas fa-home"></i>
                                    <p>Dashboard</p>

                                </a>

                            </li>
                            <li class="nav-section">
                                <span class="sidebar-mini-icon">
                                    <i class="fa fa-ellipsis-h"></i>
                                </span>
                                <h4 class="text-section">Menu</h4>
                            </li>
                            <li class="nav-item">
                                <a data-toggle="collapse" href="#base">
                                    <i class="fas fa-layer-group"></i>
                                    <p>Agents</p>
                                    <span class="caret"></span>
                                </a>
                                <div class="collapse" id="base">
                                    <ul class="nav nav-collapse">
                                        <li>
                                            <a href="{{ url('agents') }}">
                                                <span class="sub-item">View Agents</span>
                                            </a>
                                        </li>


                                    </ul>
                                </div>
                            </li>

                            <li class="nav-item active submenu">
                                <a data-toggle="collapse" href="#sidebarLayouts">
                                    <i class="fas fa-th-list"></i>
                                    <p>Campaigns</p>
                                    <span class="caret"></span>
                                </a>
                                <div class="collapse show" id="sidebarLayouts">
                                    <ul class="nav nav-collapse">
                                        <li>
                                            <a href="{{ url('campaigns') }}">
                                                <span class="sub-item">View Campaigns</span>
                                            </a>
                                        </li>

                                    </ul>
                                </div>
                            </li>

                            <li class="nav-item">
                                <a data-toggle="collapse" href="#forms">
                                    <i class="fas fa-pen-square"></i>
                                    <p>How To</p>
                                    <span class="caret"></span>
                                </a>
                                <div class="collapse" id="forms">
                                    <ul class="nav nav-collapse">
                                        <li>
                                            <a href="forms/forms.html">
                                                <span class="sub-item">Add an Agent</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </li>


                        </ul>
                    </div>
                </div>
                <div class="scroll-element scroll-x scroll-scrolly_visible">
                    <div class="scroll-element_outer">
                        <div class="scroll-element_size"></div>
                        <div class="scroll-element_track"></div>
                        <div class="scroll-bar ui-draggable ui-draggable-handle" style="width: 88px;"></div>
                    </div>
                </div>
                <div class="scroll-element scroll-y scroll-scrolly_visible">
                    <div class="scroll-element_outer">
                        <div class="scroll-element_size"></div>
                        <div class="scroll-element_track"></div>
                        <div class="scroll-bar ui-draggable ui-draggable-handle" style="height: 515px; top: 0px;"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Sidebar -->

        <div class="main-panel">
            <div class="content">

                <div class="page-inner mt--5">


                    {% block content %}{% endblock %}


                </div>
            </div>
            <footer class="footer">
                <div class="container-fluid">
                    <nav class="pull-left">
                        <ul class="nav">
                            <!--                            <li class="nav-item">-->
                            <!--                                <a class="nav-link" href="https://www.themekita.com">-->
                            <!--                                    ThemeKita-->
                            <!--                                </a>-->
                            <!--                            </li>-->
                            <!--                            <li class="nav-item">-->
                            <!--                                <a class="nav-link" href="#">-->
                            <!--                                    Help-->
                            <!--                                </a>-->
                            <!--                            </li>-->
                            <!--                            <li class="nav-item">-->
                            <!--                                <a class="nav-link" href="#">-->
                            <!--                                    Licenses-->
                            <!--                                </a>-->
                            <!--                            </li>-->
                        </ul>
                    </nav>
                    <div class="copyright ml-auto">
                        Built with <a href="https://github.com/aio-libs/aiohttp">aiohttp</a> |
                        Made with <i class="fa fa-heart heart text-danger"></i> by <a
                            href="https://www.themekita.com">ThemeKita</a>

                    </div>
                </div>
            </footer>
        </div>


        <!-- Custom template | don't include it in your project! -->
        <!--		<div class="custom-template">-->
        <!--			<div class="title">Settings</div>-->
        <!--			<div class="custom-content">-->
        <!--				<div class="switcher">-->
        <!--					<div class="switch-block">-->
        <!--						<h4>Logo Header</h4>-->
        <!--						<div class="btnSwitch">-->
        <!--							<button type="button" class="changeLogoHeaderColor" data-color="dark"></button>-->
        <!--							<button type="button" class="selected changeLogoHeaderColor" data-color="blue"></button>-->
        <!--							<button type="button" class="changeLogoHeaderColor" data-color="purple"></button>-->
        <!--							<button type="button" class="changeLogoHeaderColor" data-color="light-blue"></button>-->
        <!--							<button type="button" class="changeLogoHeaderColor" data-color="green"></button>-->
        <!--							<button type="button" class="changeLogoHeaderColor" data-color="orange"></button>-->
        <!--							<button type="button" class="changeLogoHeaderColor" data-color="red"></button>-->
        <!--							<button type="button" class="changeLogoHeaderColor" data-color="white"></button>-->
        <!--							<br />-->
        <!--							<button type="button" class="changeLogoHeaderColor" data-color="dark2"></button>-->
        <!--							<button type="button" class="changeLogoHeaderColor" data-color="blue2"></button>-->
        <!--							<button type="button" class="changeLogoHeaderColor" data-color="purple2"></button>-->
        <!--							<button type="button" class="changeLogoHeaderColor" data-color="light-blue2"></button>-->
        <!--							<button type="button" class="changeLogoHeaderColor" data-color="green2"></button>-->
        <!--							<button type="button" class="changeLogoHeaderColor" data-color="orange2"></button>-->
        <!--							<button type="button" class="changeLogoHeaderColor" data-color="red2"></button>-->
        <!--						</div>-->
        <!--					</div>-->
        <!--					<div class="switch-block">-->
        <!--						<h4>Navbar Header</h4>-->
        <!--						<div class="btnSwitch">-->
        <!--							<button type="button" class="changeTopBarColor" data-color="dark"></button>-->
        <!--							<button type="button" class="changeTopBarColor" data-color="blue"></button>-->
        <!--							<button type="button" class="changeTopBarColor" data-color="purple"></button>-->
        <!--							<button type="button" class="changeTopBarColor" data-color="light-blue"></button>-->
        <!--							<button type="button" class="changeTopBarColor" data-color="green"></button>-->
        <!--							<button type="button" class="changeTopBarColor" data-color="orange"></button>-->
        <!--							<button type="button" class="changeTopBarColor" data-color="red"></button>-->
        <!--							<button type="button" class="changeTopBarColor" data-color="white"></button>-->
        <!--							<br />-->
        <!--							<button type="button" class="changeTopBarColor" data-color="dark2"></button>-->
        <!--							<button type="button" class="selected changeTopBarColor" data-color="blue2"></button>-->
        <!--							<button type="button" class="changeTopBarColor" data-color="purple2"></button>-->
        <!--							<button type="button" class="changeTopBarColor" data-color="light-blue2"></button>-->
        <!--							<button type="button" class="changeTopBarColor" data-color="green2"></button>-->
        <!--							<button type="button" class="changeTopBarColor" data-color="orange2"></button>-->
        <!--							<button type="button" class="changeTopBarColor" data-color="red2"></button>-->
        <!--						</div>-->
        <!--					</div>-->
        <!--					<div class="switch-block">-->
        <!--						<h4>Sidebar</h4>-->
        <!--						<div class="btnSwitch">-->
        <!--							<button type="button" class="selected changeSideBarColor" data-color="white"></button>-->
        <!--							<button type="button" class="changeSideBarColor" data-color="dark"></button>-->
        <!--							<button type="button" class="changeSideBarColor" data-color="dark2"></button>-->
        <!--						</div>-->
        <!--					</div>-->
        <!--					<div class="switch-block">-->
        <!--						<h4>Background</h4>-->
        <!--						<div class="btnSwitch">-->
        <!--							<button type="button" class="changeBackgroundColor" data-color="bg2"></button>-->
        <!--							<button type="button" class="changeBackgroundColor selected" data-color="bg1"></button>-->
        <!--							<button type="button" class="changeBackgroundColor" data-color="bg3"></button>-->
        <!--							<button type="button" class="changeBackgroundColor" data-color="dark"></button>-->
        <!--						</div>-->
        <!--					</div>-->
        <!--				</div>-->
        <!--			</div>-->
        <!--			<div class="custom-toggle">-->
        <!--				<i class="flaticon-settings"></i>-->
        <!--			</div>-->
        <!--		</div>-->
        <!-- End Custom template -->
    </div>


    <!--   Core JS Files   -->
    <!-- <script src="/static/js/core/jquery.3.2.1.min.js?v=hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4%3D"></script> -->
    <script src="/static/js/core/popper.min.js?v=JjkbVCqolMR6n0Aba76nsbS0Qc2hpLbUwwhuLohbZcg%3D"></script>
    <script src="/static/js/core/bootstrap.min.js?v=5-02zu5UULQkO7w1GIr6vftCgMfFdZcAHeDtFnKZsBs%3D"></script>


    <!-- jQuery UI -->
    <script src="/static/js/plugin/jquery-ui-1.12.1.custom/jquery-ui.min.js?v=KZyMuNJB1Uv-_00w0GOueV9CboVXZh8BEIaM58Z4F8g%3D"></script>
    <script
        src="/static/js/plugin/jquery-ui-touch-punch/jquery.ui.touch-punch.min.js?v=F8rcoZj02Vst0w9W-sBE5OCzYqw8T1ns1KNU4FZF0Uc%3D"></script>


    <!-- jQuery Scrollbar -->
    <script
        src="/static/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js?v=yG90Y9wYISPhWT1qW_rsBRv7xsqzlzMPwvIEinH9eRo%3D"></script>


    <!-- Chart JS -->
    <script src="/static/js/plugin/chart.js/chart.min.js?v=wB6PNUVKf5LtEoybIRpB07SwDpFsqu1YvxYW8Z6aA4o%3D"></script>


    <!-- jQuery Sparkline -->
    <script
        src="/static/js/plugin/jquery.sparkline/jquery.sparkline.min.js?v=BuAkLaFyq4WYXbN3TFSsG1M5GltEeFehAMURi4KBpUM%3D"></script>


    <!-- Chart Circle -->
    <script
        src="/static/js/plugin/chart-circle/circles.min.js?v=f0tEwPlUrJETusmrvQlPN96nmpMg-wiLsJEGCqMUtZg%3D"></script>


    <!-- Datatables -->
    <script
        src="/static/js/plugin/datatables/datatables.min.js?v=qDR-LgAvHkIAv3FesIgtiuoJ4E-Nqi74WL09ZDclYOY%3D"></script>


    <!-- Bootstrap Notify -->
    <script
        src="/static/js/plugin/bootstrap-notify/bootstrap-notify.min.js?v=381ETYNQPu16sjp0JZ1jjqShakixVTnklNuRKUd_qbk%3D"></script>


    <!-- jQuery Vector Maps -->
    <script src="/static/js/plugin/jqvmap/jquery.vmap.min.js?v=a1ehOsZTADR0Lrfb51B8cuneDsol_VwaVj7qIWwTCAE%3D"></script>
    <script
        src="/static/js/plugin/jqvmap/maps/jquery.vmap.world.js?v=gSvZVL_Ip1QHp-3bhHaWb-sNa3I6IcSTah6icCofum4%3D"></script>


    <!-- Sweet Alert -->
    <script
        src="/static/js/plugin/sweetalert/sweetalert.min.js?v=FSEeC-c0OJh-0FI23EzpCWL3xGRSQnNkRGV2UF5maXs%3D"></script>


    <!-- Atlantis JS -->
    <script src="/static/js/atlantis.min.js?v=g1nQSzePmnrvtuAad_HG2id0QfW6-nODQQiwm6hyqfk%3D"></script>


    <script>


        $(document).ready(function () {


            // Send to Customize technique webpage
            // $("input").click(function () {
            $(":checkbox").click(function () {

                // Form id == input id 
                var form_id = '#' + $(this).attr("name");
                // console.log("form id " + form_id);
                $(form_id).submit();

                // var tech_id = $(this).val();
                // var agent_id = $("#agent_id").val();
                // console.log(tech_id);
                // console.log(agent_id);

                // $.post("http://localhost:8000/customize_technique",{ 'agent_id': agent_id , 'tech_id': tech_id });

            });

            // Submit customised parameters
            $("#submit-custom").click(function () {

                // var vals = [];
                // var keys = [];

                var key_arr = [];
                var val_arr = [];

                vals = $(".value");
                keys = $(".key");
                // console.log("Array vals length: " + vals.length);

                // console.log("Data length:" + vals.length);

                var i ;
                console.log('#########################################');

                for (i = 0; i < vals.length; i++) {
                    if (vals[i] == undefined) {
                        vals[i].value = "";
                }
                console.log('Value ' + i + ':' + vals[i].value);

                val_arr[i] = vals[i].value;
                }

                console.log('#########################################');

                if(keys != undefined || keys.length > 0){
                    var k;
                //  console.log("Data length:" + keys.length);
                for (k = 0; k < keys.length; k++) {
                    if (keys[k] == undefined) {
                        keys[k].innerHTML = '';
                }
                    console.log('Key ' + k + ':' + keys[k].innerHTML);
                    key_arr[k] = keys[k].innerHTML;
                }

                }


                // console.log('#########################################');

                // if(vals.length == 2){
                //     $.post("http://localhost:8000/customize_technique_post",
                //     { 'agent_id': vals[0].value , 'tech_id': vals[1].value });
                // }

                // if(vals.length == 3){
                //     $.post("http://localhost:8000/customize_technique_post",
                //     { 'agent_id': vals[0].value , 'tech_id': vals[1].value , 'vzero': vals[2].value,'kzero': keys[0].innerHTML });
                // }

                // if(vals.length == 4){
                //     $.post("http://localhost:8000/customize_technique_post",
                //     { 'agent_id': vals[0].value , 'tech_id': vals[1].value , 'vzero': vals[2].value, 'vone': vals[3].value,
                //     'kzero': keys[0].innerHTML, 
                //     'kone': keys[1].innerHTML });
                // }

                // if(vals.length == 5){
                //     $.post("http://localhost:8000/customize_technique_post",
                //     { 'agent_id': vals[0].value , 'tech_id': vals[1].value , 'vzero': vals[2].value, 'vone': vals[3].value, 'vtwo': vals[4].value,
                //     'kzero': keys[0].innerHTML, 
                //     'kone': keys[1].innerHTML, 
                //     'ktwo': keys[2].innerHTML });
                // }



                    
                    var kk = key_arr.toString();
                    vv = val_arr.toString();
                    console.log(kk);
                    console.log(vv);

                $.post("http://localhost:8000/customize_technique_post",
                    { 'keys': kk , 'values': vv });

                    // console.log(keys.toString());
                    // console.log( vals.toString());

                 
            // Goes back to previous webpage to assign more techniques     
            // window.history.back();
            window.location.assign("http://localhost:8000/assign_tasks/" + val_arr[0]);

        });


        $("#agents").DataTable();


        t = $("#campaigns").DataTable();


        $("#addRowButton").click(function () {



            // today.getFullYear() + '-' + (today.getMonth()+1) + '-' + today.getDate();
            // today.getHours() + ':' + today.getMinutes() +':' + today.getSeconds();

            //     t.row.add( [
            //    $("#addName").val(),
            //        action,          
            //    ] ).draw( false );

            document.getElementById('addCampaign').submit();


            $('#addRowModal').modal('hide');

        });



        // Delete Campaign
        $("#campaigns .js-delete").on("click", function () {
            // confirm("Are you sure");
            var cid = $(this).attr("data-campaign-id");


            $("#deleteCampaign").click(function () {



                $.post("http://localhost:8000/campaign_delete", { 'id': cid });


                $('#exampleModal').modal('hide');



                location.reload(true);

            });


        });


        // Update Campaign
        $("#campaigns .js-edit").on("click", function () {

            var cid = $(this).attr("data-campaign-id");

            $("#editRowButton").click(function () {

                var name = $("#updateName").val();


                $.post("http://localhost:8000/campaign_update", { 'id': cid, 'name': name });


                $('#EditRowModal').modal('hide');



                location.reload(true);

            });


        });

        });




        $('#lineChart').sparkline([102, 109, 120, 99, 110, 105, 115], {
            type: 'line',
            height: '70',
            width: '100%',
            lineWidth: '2',
            lineColor: '#177dff',
            fillColor: 'rgba(23, 125, 255, 0.14)'
        });

        $('#lineChart2').sparkline([99, 125, 122, 105, 110, 124, 115], {
            type: 'line',
            height: '70',
            width: '100%',
            lineWidth: '2',
            lineColor: '#f3545d',
            fillColor: 'rgba(243, 84, 93, .14)'
        });

        $('#lineChart3').sparkline([105, 103, 123, 100, 95, 105, 115], {
            type: 'line',
            height: '70',
            width: '100%',
            lineWidth: '2',
            lineColor: '#ffa534',
            fillColor: 'rgba(255, 165, 52, .14)'
        });




        // Chart with HTML Legends

        // htmlLegendsChart = document.getElementById('htmlLegendsChart').getContext('2d');
        var htmlLegendsChart = document.getElementById('htmlLegendsChart');
        htmlLegendsChart.getContext('2d');


        var gradientStroke = htmlLegendsChart.createLinearGradient(500, 0, 100, 0);
        gradientStroke.addColorStop(0, '#177dff');
        gradientStroke.addColorStop(1, '#80b6f4');

        var gradientFill = htmlLegendsChart.createLinearGradient(500, 0, 100, 0);
        gradientFill.addColorStop(0, "rgba(23, 125, 255, 0.7)");
        gradientFill.addColorStop(1, "rgba(128, 182, 244, 0.3)");

        var gradientStroke2 = htmlLegendsChart.createLinearGradient(500, 0, 100, 0);
        gradientStroke2.addColorStop(0, '#f3545d');
        gradientStroke2.addColorStop(1, '#ff8990');

        var gradientFill2 = htmlLegendsChart.createLinearGradient(500, 0, 100, 0);
        gradientFill2.addColorStop(0, "rgba(243, 84, 93, 0.7)");
        gradientFill2.addColorStop(1, "rgba(255, 137, 144, 0.3)");

        var gradientStroke3 = htmlLegendsChart.createLinearGradient(500, 0, 100, 0);
        gradientStroke3.addColorStop(0, '#fdaf4b');
        gradientStroke3.addColorStop(1, '#ffc478');

        var gradientFill3 = htmlLegendsChart.createLinearGradient(500, 0, 100, 0);
        gradientFill3.addColorStop(0, "rgba(253, 175, 75, 0.7)");
        gradientFill3.addColorStop(1, "rgba(255, 196, 120, 0.3)");

        var myHtmlLegendsChart = new Chart(htmlLegendsChart, {
            type: 'line',
            data: {
                labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                datasets: [{
                    label: "Subscribers",
                    borderColor: gradientStroke2,
                    pointBackgroundColor: gradientStroke2,
                    pointRadius: 0,
                    backgroundColor: gradientFill2,
                    legendColor: '#f3545d',
                    fill: true,
                    borderWidth: 1,
                    data: [154, 184, 175, 203, 210, 231, 240, 278, 252, 312, 320, 374]
                }, {
                    label: "New Visitors",
                    borderColor: gradientStroke3,
                    pointBackgroundColor: gradientStroke3,
                    pointRadius: 0,
                    backgroundColor: gradientFill3,
                    legendColor: '#fdaf4b',
                    fill: true,
                    borderWidth: 1,
                    data: [256, 230, 245, 287, 240, 250, 230, 295, 331, 431, 456, 521]
                }, {
                    label: "Active Users",
                    borderColor: gradientStroke,
                    pointBackgroundColor: gradientStroke,
                    pointRadius: 0,
                    backgroundColor: gradientFill,
                    legendColor: '#177dff',
                    fill: true,
                    borderWidth: 1,
                    data: [542, 480, 430, 550, 530, 453, 380, 434, 568, 610, 700, 900]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                legend: {
                    display: false
                },
                tooltips: {
                    bodySpacing: 4,
                    mode: "nearest",
                    intersect: 0,
                    position: "nearest",
                    xPadding: 10,
                    yPadding: 10,
                    caretPadding: 10
                },
                layout: {
                    padding: { left: 15, right: 15, top: 15, bottom: 15 }
                },
                scales: {
                    yAxes: [{
                        ticks: {
                            //fontColor: "rgba(0,0,0,0.5)",
                            fontColor: "rgb(231, 232, 232)",
                            fontStyle: "500",
                            beginAtZero: false,
                            maxTicksLimit: 5,
                            padding: 20
                        },
                        gridLines: {
                            drawTicks: false,
                            display: false
                        }
                    }],
                    xAxes: [{
                        gridLines: {
                            zeroLineColor: "transparent"
                        },
                        ticks: {
                            padding: 20,
                            //fontColor: "rgba(0,0,0,0.5)",
                            fontColor: "rgb(231, 232, 232)",
                            fontStyle: "500"
                        }
                    }]
                },
                legendCallback: function (chart) {
                    var text = [];
                    text.push('<ul class="' + chart.id + '-legend html-legend">');
                    for (var i = 0; i < chart.data.datasets.length; i++) {
                        text.push('<li><span style="background-color:' + chart.data.datasets[i].legendColor + '"></span>');
                        if (chart.data.datasets[i].label) {
                            text.push(chart.data.datasets[i].label);
                        }
                        text.push('</li>');
                    }
                    text.push('</ul>');
                    return text.join('');
                }
            }
        });

        var myLegendContainer = document.getElementById("myChartLegend");

        // generate HTML legend
        myLegendContainer.innerHTML = myHtmlLegendsChart.generateLegend();

        // bind onClick event to all LI-tags of the legend
        var legendItems = myLegendContainer.getElementsByTagName('li');
        for (var i = 0; i < legendItems.length; i += 1) {
            legendItems[i].addEventListener("click", legendClickCallback, false);
        }









    </script>


    <div id="pDebug">
        <div style="display: block; " id="pDebugToolbarHandle">
            <a title="Show Toolbar" id="pShowToolBarButton" href="/_debugtoolbar/32313033303037323431343430"
                target="pDebugToolbar">Â«
                FIXME: Debug Toolbar</a>
        </div>
    </div>


    <script src="http://localhost:8001/livereload.js"></script>
    <div
        style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
        <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
        </div>
    </div>
</body>

</html>